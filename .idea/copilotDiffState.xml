<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/src/main/java/repository/Repository.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/repository/Repository.java" />
              <option name="originalContent" value="package repository;&#10;&#10;import jakarta.enterprise.context.ApplicationScoped;&#10;import jakarta.persistence.EntityManager;&#10;import jakarta.persistence.PersistenceContext;&#10;import jakarta.transaction.Transactional;&#10;import entity.ResultEntity;&#10;&#10;import java.util.List;&#10;&#10;@ApplicationScoped&#10;public class Repository implements RepositoryInterface {&#10;&#10;    @PersistenceContext(unitName = &quot;labPU&quot;)&#10;    private EntityManager entityManager;&#10;&#10;    @Override&#10;    @Transactional&#10;    public void saveResult(ResultEntity point) {&#10;        entityManager.persist(point);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;ResultEntity&gt; getAllPoints() {&#10;        return entityManager.createQuery(&#10;                &quot;SELECT p FROM ResultEntity p ORDER BY p.timestamp DESC&quot;,&#10;                ResultEntity.class&#10;        ).getResultList();&#10;    }&#10;&#10;    @Override&#10;    @Transactional&#10;    public void deleteAllPoints() {&#10;        entityManager.createQuery(&quot;DELETE FROM ResultEntity&quot;).executeUpdate();&#10;    }&#10;}" />
              <option name="updatedContent" value="package repository;&#10;&#10;import jakarta.enterprise.context.ApplicationScoped;&#10;import jakarta.persistence.EntityManager;&#10;import jakarta.persistence.PersistenceContext;&#10;import jakarta.transaction.Transactional;&#10;import entity.ResultEntity;&#10;&#10;import java.util.List;&#10;&#10;@ApplicationScoped&#10;public class Repository implements RepositoryInterface {&#10;&#10;    @PersistenceContext(unitName = &quot;labPU&quot;)&#10;    private EntityManager entityManager;&#10;&#10;    @Override&#10;    @Transactional&#10;    public void saveResult(ResultEntity point) {&#10;        entityManager.persist(point);&#10;    }&#10;&#10;    @Override&#10;    public List&lt;ResultEntity&gt; getAllPoints() {&#10;        return entityManager.createQuery(&#10;                &quot;SELECT p FROM ResultEntity p ORDER BY p.timestamp DESC&quot;,&#10;                ResultEntity.class&#10;        ).getResultList();&#10;    }&#10;&#10;    @Override&#10;    @Transactional&#10;    public void deleteAllPoints() {&#10;        entityManager.createQuery(&quot;DELETE FROM ResultEntity&quot;).executeUpdate();&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/java/service/CacheType.java">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/java/service/CacheType.java" />
              <option name="originalContent" value="package service;&#10;&#10;public enum CacheType {&#10;    NONE,&#10;    CAFFEINE,&#10;    REDIS&#10;}&#10;" />
              <option name="updatedContent" value="package service;&#10;&#10;public enum CacheType {&#10;    NONE,&#10;    CAFFEINE,&#10;    REDIS&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/src/main/webapp/main.xhtml">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/src/main/webapp/main.xhtml" />
              <option name="originalContent" value="&lt;ui:composition template=&quot;/resources/templates/template.xhtml&quot;&#10;                xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&#10;                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;&#10;                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&#10;                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&#10;                xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;&#10;&#10;    &lt;ui:define name=&quot;content&quot;&gt;&#10;        &lt;h:outputScript library=&quot;js&quot; name=&quot;validate.js&quot;/&gt;&#10;        &lt;h:outputScript library=&quot;js&quot; name=&quot;canvas.js&quot;/&gt;&#10;        &lt;br/&gt;&#10;        &lt;!--Вод каким id вошёл и кнопка выйти--&gt;&#10;        &lt;div id=&quot;authoris&quot;&gt;&#10;            &lt;h:outputText id=&quot;userId&quot; value=&quot;Вы на главной странице&quot;/&gt;&#10;            &lt;h:button value=&quot;Выйти&quot; outcome=&quot;start&quot; styleClass=&quot;yellow-btn&quot;/&gt;&#10;            &lt;!-- Добавлен блок переключения кэша --&gt;&#10;            &lt;h:panelGroup style=&quot;display:inline-block; margin-left:20px;&quot;&gt;&#10;                &lt;h:outputText value=&quot;Кэш: &quot;/&gt;&#10;                &lt;h:outputText id=&quot;cacheStatus&quot; value=&quot;#{cacheSwitcher.current}&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Нет&quot; action=&quot;#{cacheSwitcher.setNone}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-secondary&quot; process=&quot;@this&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Caffeine&quot; action=&quot;#{cacheSwitcher.setCaffeine}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-info&quot; process=&quot;@this&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Redis&quot; action=&quot;#{cacheSwitcher.setRedis}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-warning&quot; process=&quot;@this&quot;/&gt;&#10;            &lt;/h:panelGroup&gt;&#10;        &lt;/div&gt;&#10;        &lt;br/&gt;&#10;        &lt;!--        основный блок: форма и график--&gt;&#10;        &lt;div class=&quot;main&quot;&gt;&#10;            &lt;div id=&quot;form&quot;&gt;&#10;                &lt;h:form id=&quot;checkForm&quot;&gt;&#10;                    &lt;!-- X: Spinner с подписью --&gt;&#10;                    &lt;p:outputLabel for=&quot;x&quot; value=&quot;Введите X:&quot;/&gt;&#10;                    &lt;p:spinner id=&quot;x&quot; widgetVar=&quot;spinnerX&quot;&#10;                               value=&quot;#{pointCheckBean.x}&quot;&#10;                               min=&quot;-5&quot; max=&quot;5&quot; step=&quot;1&quot;&gt;&#10;                        &lt;f:validator validatorId=&quot;XValidator&quot;/&gt;&#10;                        &lt;p:ajax event=&quot;valueChange&quot; update=&quot;x-err&quot;/&gt;&#10;                    &lt;/p:spinner&gt;&#10;                    &lt;p:message id=&quot;x-err&quot; for=&quot;x&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;                    &lt;br/&gt;&#10;&#10;&#10;                    &lt;p:outputLabel for=&quot;y&quot; value=&quot;Введите Y:&quot; styleClass=&quot;field-label&quot;/&gt;&#10;                    &lt;p:inputText id=&quot;y&quot; value=&quot;#{pointCheckBean.y}&quot; styleClass=&quot;input-field&quot;&gt;&#10;                        &lt;f:validator validatorId=&quot;YValidator&quot;/&gt;&#10;                        &lt;p:ajax event=&quot;valueChange&quot; update=&quot;y-err&quot;/&gt;&#10;                    &lt;/p:inputText&gt;&#10;                    &lt;p:message id=&quot;y-err&quot; for=&quot;y&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;&#10;&#10;                    &lt;br/&gt;&#10;&#10;                    &lt;h:outputLabel for=&quot;r&quot; value=&quot;Введите R:&quot; style=&quot;display: block; text-align: left;&quot;/&gt;&#10;                    &lt;h:panelGrid columns=&quot;1&quot; style=&quot;margin-bottom:10px; width: auto; text-align: left; display: inline-block;&quot;&gt;&#10;                        &lt;p:slider id=&quot;rSlider&quot;&#10;                                  widgetVar=&quot;rSlider&quot;&#10;                                  for=&quot;r&quot;&#10;                                  minValue=&quot;2&quot;&#10;                                  maxValue=&quot;5&quot;&#10;                                  step=&quot;0.25&quot;&#10;                                  style=&quot;width:200px; margin-bottom: 10px;&quot;/&gt;&#10;                        &lt;p:inputText id=&quot;r&quot;&#10;                                     value=&quot;#{pointCheckBean.r}&quot;&#10;                                     maxlength=&quot;10&quot;&#10;                                     style=&quot;width: 200px;&quot;&gt;&#10;                            &lt;f:validator validatorId=&quot;RValidator&quot;/&gt;&#10;                            &lt;p:ajax event=&quot;valueChange&quot; update=&quot;r-err&quot;/&gt;&#10;                        &lt;/p:inputText&gt;&#10;                    &lt;/h:panelGrid&gt;&#10;                    &lt;p:message id=&quot;r-err&quot; for=&quot;r&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;&#10;&#10;                    &lt;p:commandButton id=&quot;checkBtn&quot;&#10;                                     value=&quot;Проверить&quot;&#10;                                     action=&quot;#{pointCheckBean.checkArea}&quot;&#10;                                     update=&quot;resultsTable&quot;&#10;                                     oncomplete=&quot;setTimeout(function(){drawArea(getR());}, 0);&quot;&gt;&#10;                    &lt;/p:commandButton&gt;&#10;                    &lt;p:dialog id=&quot;errorDialog&quot; widgetVar=&quot;errorDialogWidget&quot;&#10;                              modal=&quot;true&quot; closable=&quot;true&quot; header=&quot;Ошибка&quot; showEffect=&quot;fade&quot;&gt;&#10;                        &lt;h:outputText id=&quot;modalText&quot; value=&quot;&quot; style=&quot;color:#e84118&quot;/&gt;&#10;                    &lt;/p:dialog&gt;&#10;&#10;                &lt;/h:form&gt;&#10;&#10;                &lt;h:messages globalOnly=&quot;true&quot;/&gt;&#10;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div id=&quot;graph&quot;&gt;&#10;                &lt;canvas id=&quot;coordinatePlane&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;&#10;            &lt;/div&gt;&#10;            &lt;h:panelGroup rendered=&quot;#{errorBean.hasError()}&quot;&gt;&#10;                &lt;h:outputText value=&quot;#{errorBean.errorMessage}&quot; style=&quot;color:red;&quot;/&gt;&#10;            &lt;/h:panelGroup&gt;&#10;&#10;        &lt;/div&gt;&#10;        &lt;br/&gt;&#10;        &lt;!-- таблица результатов --&gt;&#10;        &lt;div id=&quot;end&quot;&gt;&#10;            &lt;h3 class=&quot;table-title&quot;&gt;История проверок&lt;/h3&gt;&#10;            &lt;div&gt;&#10;                &lt;h:dataTable id=&quot;resultsTable&quot; value=&quot;#{resultsBean.results}&quot; var=&quot;result&quot;&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;X&lt;/f:facet&gt;&#10;                        #{result.x}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Y&lt;/f:facet&gt;&#10;                        #{result.y}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;R&lt;/f:facet&gt;&#10;                        #{result.r}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Попадание&lt;/f:facet&gt;&#10;                        #{result.hit}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Время&lt;/f:facet&gt;&#10;                        #{result.time}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Дата&lt;/f:facet&gt;&#10;                        #{result.date}&#10;                    &lt;/h:column&gt;&#10;&#10;                &lt;/h:dataTable&gt;&#10;            &lt;/div&gt;&#10;&#10;&#10;            &lt;p:commandButton value=&quot;Очистить всё&quot;&#10;                             action=&quot;#{resultsBean.clearResults}&quot;&#10;                             update=&quot;resultsTable &quot;&#10;                             icon=&quot;pi pi-trash&quot;&#10;                             styleClass=&quot;ui-button-danger&quot;&#10;                             oncomplete=&quot;setTimeout(function(){drawArea(getR());}, 0);&quot;&gt;&#10;&#10;            &lt;/p:commandButton&gt;&#10;        &lt;/div&gt;&#10;    &lt;/ui:define&gt;&#10;&lt;/ui:composition&gt;&#10;" />
              <option name="updatedContent" value="&lt;ui:composition template=&quot;/resources/templates/template.xhtml&quot;&#10;                xmlns=&quot;http://www.w3.org/1999/xhtml&quot;&#10;                xmlns:h=&quot;http://java.sun.com/jsf/html&quot;&#10;                xmlns:f=&quot;http://java.sun.com/jsf/core&quot;&#10;                xmlns:ui=&quot;http://java.sun.com/jsf/facelets&quot;&#10;                xmlns:p=&quot;http://primefaces.org/ui&quot;&gt;&#10;&#10;    &lt;ui:define name=&quot;content&quot;&gt;&#10;        &lt;h:outputScript library=&quot;js&quot; name=&quot;validate.js&quot;/&gt;&#10;        &lt;h:outputScript library=&quot;js&quot; name=&quot;canvas.js&quot;/&gt;&#10;        &lt;br/&gt;&#10;        &lt;!--Вод каким id вошёл и кнопка выйти--&gt;&#10;        &lt;div id=&quot;authoris&quot;&gt;&#10;            &lt;h:outputText id=&quot;userId&quot; value=&quot;Вы на главной странице&quot;/&gt;&#10;            &lt;h:button value=&quot;Выйти&quot; outcome=&quot;start&quot; styleClass=&quot;yellow-btn&quot;/&gt;&#10;            &lt;!-- Добавлен блок переключения кэша --&gt;&#10;            &lt;h:panelGroup style=&quot;display:inline-block; margin-left:20px;&quot;&gt;&#10;                &lt;h:outputText value=&quot;Кэш: &quot;/&gt;&#10;                &lt;h:outputText id=&quot;cacheStatus&quot; value=&quot;#{cacheSwitcher.current}&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Нет&quot; action=&quot;#{cacheSwitcher.setNone}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-secondary&quot; process=&quot;@this&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Caffeine&quot; action=&quot;#{cacheSwitcher.setCaffeine}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-info&quot; process=&quot;@this&quot;/&gt;&#10;                &lt;p:commandButton value=&quot;Redis&quot; action=&quot;#{cacheSwitcher.setRedis}&quot;&#10;                                 update=&quot;resultsTable cacheStatus&quot; styleClass=&quot;ui-button-warning&quot; process=&quot;@this&quot;/&gt;&#10;            &lt;/h:panelGroup&gt;&#10;        &lt;/div&gt;&#10;        &lt;br/&gt;&#10;        &lt;!--        основный блок: форма и график--&gt;&#10;        &lt;div class=&quot;main&quot;&gt;&#10;            &lt;div id=&quot;form&quot;&gt;&#10;                &lt;h:form id=&quot;checkForm&quot;&gt;&#10;                    &lt;!-- X: Spinner с подписью --&gt;&#10;                    &lt;p:outputLabel for=&quot;x&quot; value=&quot;Введите X:&quot;/&gt;&#10;                    &lt;p:spinner id=&quot;x&quot; widgetVar=&quot;spinnerX&quot;&#10;                               value=&quot;#{pointCheckBean.x}&quot;&#10;                               min=&quot;-5&quot; max=&quot;5&quot; step=&quot;1&quot;&gt;&#10;                        &lt;f:validator validatorId=&quot;XValidator&quot;/&gt;&#10;                        &lt;p:ajax event=&quot;valueChange&quot; update=&quot;x-err&quot;/&gt;&#10;                    &lt;/p:spinner&gt;&#10;                    &lt;p:message id=&quot;x-err&quot; for=&quot;x&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;                    &lt;br/&gt;&#10;&#10;&#10;                    &lt;p:outputLabel for=&quot;y&quot; value=&quot;Введите Y:&quot; styleClass=&quot;field-label&quot;/&gt;&#10;                    &lt;p:inputText id=&quot;y&quot; value=&quot;#{pointCheckBean.y}&quot; styleClass=&quot;input-field&quot;&gt;&#10;                        &lt;f:validator validatorId=&quot;YValidator&quot;/&gt;&#10;                        &lt;p:ajax event=&quot;valueChange&quot; update=&quot;y-err&quot;/&gt;&#10;                    &lt;/p:inputText&gt;&#10;                    &lt;p:message id=&quot;y-err&quot; for=&quot;y&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;&#10;&#10;                    &lt;br/&gt;&#10;&#10;                    &lt;h:outputLabel for=&quot;r&quot; value=&quot;Введите R:&quot; style=&quot;display: block; text-align: left;&quot;/&gt;&#10;                    &lt;h:panelGrid columns=&quot;1&quot; style=&quot;margin-bottom:10px; width: auto; text-align: left; display: inline-block;&quot;&gt;&#10;                        &lt;p:slider id=&quot;rSlider&quot;&#10;                                  widgetVar=&quot;rSlider&quot;&#10;                                  for=&quot;r&quot;&#10;                                  minValue=&quot;2&quot;&#10;                                  maxValue=&quot;5&quot;&#10;                                  step=&quot;0.25&quot;&#10;                                  style=&quot;width:200px; margin-bottom: 10px;&quot;/&gt;&#10;                        &lt;p:inputText id=&quot;r&quot;&#10;                                     value=&quot;#{pointCheckBean.r}&quot;&#10;                                     maxlength=&quot;10&quot;&#10;                                     style=&quot;width: 200px;&quot;&gt;&#10;                            &lt;f:validator validatorId=&quot;RValidator&quot;/&gt;&#10;                            &lt;p:ajax event=&quot;valueChange&quot; update=&quot;r-err&quot;/&gt;&#10;                        &lt;/p:inputText&gt;&#10;                    &lt;/h:panelGrid&gt;&#10;                    &lt;p:message id=&quot;r-err&quot; for=&quot;r&quot; display=&quot;text&quot; styleClass=&quot;error-message&quot;/&gt;&#10;&#10;&#10;                    &lt;p:commandButton id=&quot;checkBtn&quot;&#10;                                     value=&quot;Проверить&quot;&#10;                                     action=&quot;#{pointCheckBean.checkArea}&quot;&#10;                                     update=&quot;resultsTable&quot;&#10;                                     oncomplete=&quot;setTimeout(function(){drawArea(getR());}, 0);&quot;&gt;&#10;                    &lt;/p:commandButton&gt;&#10;                    &lt;p:dialog id=&quot;errorDialog&quot; widgetVar=&quot;errorDialogWidget&quot;&#10;                              modal=&quot;true&quot; closable=&quot;true&quot; header=&quot;Ошибка&quot; showEffect=&quot;fade&quot;&gt;&#10;                        &lt;h:outputText id=&quot;modalText&quot; value=&quot;&quot; style=&quot;color:#e84118&quot;/&gt;&#10;                    &lt;/p:dialog&gt;&#10;&#10;                &lt;/h:form&gt;&#10;&#10;                &lt;h:messages globalOnly=&quot;true&quot;/&gt;&#10;&#10;            &lt;/div&gt;&#10;&#10;            &lt;div id=&quot;graph&quot;&gt;&#10;                &lt;canvas id=&quot;coordinatePlane&quot; width=&quot;400&quot; height=&quot;400&quot;&gt;&lt;/canvas&gt;&#10;            &lt;/div&gt;&#10;            &lt;h:panelGroup rendered=&quot;#{errorBean.hasError()}&quot;&gt;&#10;                &lt;h:outputText value=&quot;#{errorBean.errorMessage}&quot; style=&quot;color:red;&quot;/&gt;&#10;            &lt;/h:panelGroup&gt;&#10;&#10;        &lt;/div&gt;&#10;        &lt;br/&gt;&#10;        &lt;!-- таблица результатов --&gt;&#10;        &lt;div id=&quot;end&quot;&gt;&#10;            &lt;h3 class=&quot;table-title&quot;&gt;История проверок&lt;/h3&gt;&#10;            &lt;div&gt;&#10;                &lt;h:dataTable id=&quot;resultsTable&quot; value=&quot;#{resultsBean.results}&quot; var=&quot;result&quot;&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;X&lt;/f:facet&gt;&#10;                        #{result.x}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Y&lt;/f:facet&gt;&#10;                        #{result.y}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;R&lt;/f:facet&gt;&#10;                        #{result.r}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Попадание&lt;/f:facet&gt;&#10;                        #{result.hit}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Время&lt;/f:facet&gt;&#10;                        #{result.time}&#10;                    &lt;/h:column&gt;&#10;                    &lt;h:column&gt;&#10;                        &lt;f:facet name=&quot;header&quot;&gt;Дата&lt;/f:facet&gt;&#10;                        #{result.date}&#10;                    &lt;/h:column&gt;&#10;&#10;                &lt;/h:dataTable&gt;&#10;            &lt;/div&gt;&#10;&#10;&#10;            &lt;p:commandButton value=&quot;Очистить всё&quot;&#10;                             action=&quot;#{resultsBean.clearResults}&quot;&#10;                             update=&quot;resultsTable &quot;&#10;                             icon=&quot;pi pi-trash&quot;&#10;                             styleClass=&quot;ui-button-danger&quot;&#10;                             oncomplete=&quot;setTimeout(function(){drawArea(getR());}, 0);&quot;&gt;&#10;&#10;            &lt;/p:commandButton&gt;&#10;        &lt;/div&gt;&#10;    &lt;/ui:define&gt;&#10;&lt;/ui:composition&gt;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>